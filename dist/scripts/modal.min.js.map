{"version":3,"file":"modal.min.js","sources":["modal.js"],"sourcesContent":["const form = document.querySelector('.form');\r\nconst submitButton = form.querySelector('.panel__button');\r\nconst modalFailure = document.querySelector('.modal--failure');\r\nconst failureButton = modalFailure.querySelector('.modal__button');\r\nconst modalSucces = document.querySelector('.modal--succes');\r\nconst succesButton = modalSucces.querySelector('.modal__button');\r\n\r\nconst requiredInputChecker = () => {\r\n    let inputs = form.querySelectorAll('.js-required-input');\r\n    let emailInput = form.querySelector('.feedback__email');\r\n\r\n    for (input of inputs) {\r\n        if (input.value === '' || emailInput.validity.typeMismatch) {\r\n            modalFailure.classList.add('modal--active');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nconst submitForm = () => {\r\n    if (requiredInputChecker()) {\r\n        form.submit();\r\n        modalSucces.classList.add('modal--active');\r\n    }\r\n};\r\n\r\nconst modalCloser = (modal) => {\r\n    modal.classList.remove('modal--active');\r\n};\r\n\r\nconst modalKeyCloser = (modal, event) => {\r\n    if (event.keyCode !== 27 && !modal.classList.contain('modal--active')) {\r\n        return;\r\n    }\r\n    event.preventDefault();\r\n    modal.classList.remove('modal--active');\r\n};\r\n\r\nfailureButton.addEventListener('click', () => {\r\n    modalCloser(modalFailure);\r\n});\r\n\r\nsuccesButton.addEventListener('click', () => {\r\n    modalCloser(modalSucces);\r\n});\r\n\r\nwindow.addEventListener('keydown', (evt) => {\r\n    modalKeyCloser(modalFailure, evt);\r\n    modalKeyCloser(modalSucces, evt);\r\n});\r\n\r\nsubmitButton.addEventListener('click', (evt) => {\r\n    evt.preventDefault();\r\n    requiredInputChecker();\r\n    submitForm();\r\n});"],"names":["form","document","querySelector","submitButton","modalFailure","failureButton","modalSucces","succesButton","requiredInputChecker","let","inputs","querySelectorAll","emailInput","input","value","validity","typeMismatch","classList","add","submitForm","submit","modalCloser","modal","remove","modalKeyCloser","event","keyCode","contain","preventDefault","addEventListener","window","evt"],"mappings":"AAAA,MAAMA,KAAOC,SAASC,cAAc,OAAO,EACrCC,aAAeH,KAAKE,cAAc,gBAAgB,EAClDE,aAAeH,SAASC,cAAc,iBAAiB,EACvDG,cAAgBD,aAAaF,cAAc,gBAAgB,EAC3DI,YAAcL,SAASC,cAAc,gBAAgB,EACrDK,aAAeD,YAAYJ,cAAc,gBAAgB,EAEzDM,qBAAuB,KACzBC,IAAIC,EAASV,KAAKW,iBAAiB,oBAAoB,EACnDC,EAAaZ,KAAKE,cAAc,kBAAkB,EAEtD,IAAKW,SAASH,EACV,GAAoB,KAAhBG,MAAMC,OAAgBF,EAAWG,SAASC,aAE1C,OADAZ,aAAaa,UAAUC,IAAI,eAAe,EACnC,CAAA,EAIf,MAAO,CAAA,CACX,EAEMC,WAAa,KACXX,qBAAqB,IACrBR,KAAKoB,OAAO,EACZd,YAAYW,UAAUC,IAAI,eAAe,EAEjD,EAEMG,YAAc,IAChBC,EAAML,UAAUM,OAAO,eAAe,CAC1C,EAEMC,eAAiB,CAACF,EAAOG,KACL,KAAlBA,EAAMC,SAAmBJ,CAAAA,EAAML,UAAUU,QAAQ,eAAe,IAGpEF,EAAMG,eAAe,EACrBN,EAAML,UAAUM,OAAO,eAAe,EAC1C,EAEAlB,cAAcwB,iBAAiB,QAAS,KACpCR,YAAYjB,YAAY,CAC5B,CAAC,EAEDG,aAAasB,iBAAiB,QAAS,KACnCR,YAAYf,WAAW,CAC3B,CAAC,EAEDwB,OAAOD,iBAAiB,UAAW,IAC/BL,eAAepB,aAAc2B,CAAG,EAChCP,eAAelB,YAAayB,CAAG,CACnC,CAAC,EAED5B,aAAa0B,iBAAiB,QAAS,IACnCE,EAAIH,eAAe,EACnBpB,qBAAqB,EACrBW,WAAW,CACf,CAAC"}